# 点击运行后会调用该文件配置自动运行应用，更多运行命令示例可前往https://docs.qq.com/aio/DRUFZcHVvZlJuY3l2?u=7c2feb6441bf45a9850c937243d1d070&p=TDSrqgLJdfWD1BI4QnDlct

autoOpen: true # 打开工作区时，自动启动下方 apps 中 autoOpen=true 的预览
apps:
  - port: 3000
    # 为兼容部分在线预览代理（出现 http,http://... 的请求行），改为构建静态站点 + Python 静态服务器
    # 如环境无 Python，可改为：
    #   run: dart pub global activate dhttpd && flutter build web -t lib/main_web_preview.dart --release && ~/.pub-cache/bin/dhttpd --path build/web --port 3000
    run: bash -lc "flutter build web -t lib/main_web_preview.dart --release && python -m http.server 3000 -d build/web"
    root: .
    name: web-preview
    description: Campus Copilot Web 预览（静态托管，仅 UI）
    autoOpen: true
